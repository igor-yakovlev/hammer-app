{"version":3,"sources":["views/app-views/main/planner/Container/Container.module.css","views/app-views/main/planner/CustomFileInput/CustomFileInput.module.css","views/app-views/main/planner/Box/config.js","views/app-views/main/planner/Box/Box.jsx","redux/actions/Planner.js","views/app-views/main/planner/utils/snapToGrid.js","views/app-views/main/planner/CustomDragLayer/config.js","views/app-views/main/planner/CustomDragLayer/CustomDragLayer.jsx","utils/functions.js","views/app-views/main/planner/Container/Container.jsx","views/app-views/main/planner/CustomSwitch/CustomSwitch.jsx","views/app-views/main/planner/MapCard/MapCard.jsx","views/app-views/main/planner/CustomFileInput/CustomFileInput.jsx","views/app-views/main/planner/ImageList/ImageList.jsx","views/app-views/main/planner/tableConfig.js","views/app-views/main/planner/index.js"],"names":["module","exports","getStyles","left","top","isDragging","transform","position","display","width","WebkitTransform","opacity","Box","memo","id","type","deleteItem","src","ItemPics","useDrag","item","collect","monitor","elem","getItem","end","didDrop","drag","preview","useEffect","getEmptyImage","captureDraggingState","className","ref","style","alt","mapDispatchToProps","DELETE_ITEM","connect","state","snapToGrid","x","y","Math","round","layerStyles","pointerEvents","zIndex","height","getItemStyles","initialOffset","currentOffset","CustomDragLayer","useDragLayer","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","classes","props","classNames","updateItem","UPDATE_ITEM","checked","planner","moveBox","useCallback","useDrop","accept","Object","values","ItemTypes","drop","delta","getDifferenceFromInitialOffset","styles","container","grid","keys","map","key","CustomSwitch","onChange","size","defaultChecked","MapCard","useState","setIsChecked","extra","title","headStyle","color","backgroundColor","DndProvider","backend","HTML5Backend","CustomFileInput","multiple","input__file","htmlFor","button","ImageList","data","onClick","gutter","column","dataSource","renderItem","Item","maxWidth","borderRadius","tabList","tab","dataFurnitures","TABLE_4_CHAIRS","TABLE_5_CHAIRS","MIDDLE_SOFA","LEFT_SOFA","dataPlants","PLANT_1","PLANT_2","PLANT_3","PLANT_4","addItem","ADD_ITEM","importItems","items","IMPORT_ITEMS","handler","activeTabKey","setActiveTabKey","lg","onTabChange","onTab2Change","Date","now","tables","plants","event","reader","FileReader","onload","parsed","JSON","parse","result","onerror","console","log","target","files","readAsText","content","stringify","a","document","createElement","file","Blob","href","URL","createObjectURL","download","click"],"mappings":"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","file":"static/js/18.6c853113.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2Qix6\",\"grid\":\"Container_grid__2CoxZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input__file\":\"CustomFileInput_input__file__1IlA6\",\"button\":\"CustomFileInput_button__1PI-s\"};","export function getStyles(left, top, isDragging) {\n  const transform = `translate3d(${left}px, ${top}px, 0)`;\n  return {\n    position: \"absolute\",\n    transform,\n    display: \"inline-block\",\n    width: 46,\n    WebkitTransform: transform,\n    opacity: isDragging ? 0 : 1,\n  };\n}\n","import { memo, useEffect } from \"react\";\nimport { useDrag } from \"react-dnd\";\nimport { getEmptyImage } from \"react-dnd-html5-backend\";\nimport { connect } from \"react-redux\";\nimport { ItemPics } from \"../types/ItemTypes\";\nimport { deleteItem } from \"redux/actions/Planner\";\nimport { getStyles } from \"./config\";\n\nconst Box = memo(function Box({ id, left, top, type, deleteItem }) {\n  const src = ItemPics[type];\n  const [{ isDragging }, drag, preview] = useDrag(\n    () => ({\n      type,\n      item: { id, left, top },\n      collect: (monitor) => ({\n        isDragging: monitor.isDragging(),\n        elem: monitor.getItem(),\n      }),\n      end(item, monitor) {\n        const didDrop = monitor.didDrop();\n        if (!didDrop) {\n          deleteItem(item.id);\n        }\n      },\n    }),\n    [id, left, top]\n  );\n\n  useEffect(() => {\n    preview(getEmptyImage(), { captureDraggingState: true });\n  }, [preview]);\n\n  return (\n    <div className=\"box\" ref={drag} style={getStyles(left, top, isDragging)}>\n      <img src={src} alt={type} style={{ width: \"100%\" }} />\n    </div>\n  );\n});\n\nconst mapStateToProps = (state) => state;\n\nconst mapDispatchToProps = { deleteItem };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Box);\n","import { ADD_ITEM, DELETE_ITEM, IMPORT_ITEMS, UPDATE_ITEM } from \"redux/constants/Planner\";\n\nexport const importItems = (items) => {\n  return {\n    type: IMPORT_ITEMS,\n    items\n  };\n};\n\nexport const addItem = (item) => {\n  return {\n    type: ADD_ITEM,\n    item\n  }\n}\n\nexport const updateItem = (item) => {\n  return {\n    type: UPDATE_ITEM,\n    item\n  }\n}\n\nexport const deleteItem = (id) => {\n  return {\n    type: DELETE_ITEM,\n    id\n  }\n}\n","export function snapToGrid(x, y) {\n  const snappedX = Math.round(x / 15) * 15;\n  const snappedY = Math.round(y / 15) * 15;\n  return [snappedX, snappedY];\n}\n","import { snapToGrid } from \"../utils/snapToGrid\";\n\nexport const layerStyles = {\n  position: \"fixed\",\n  pointerEvents: \"none\",\n  zIndex: 100,\n  left: 0,\n  top: 0,\n  width: \"100%\",\n  height: \"100%\",\n};\n\nexport const getItemStyles = (initialOffset, currentOffset) => {\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: \"none\",\n    };\n  }\n\n  let { x, y } = currentOffset;\n\n  x -= initialOffset.x;\n  y -= initialOffset.y;\n  [x, y] = snapToGrid(x, y);\n  x += initialOffset.x;\n  y += initialOffset.y;\n\n  const transform = `translate(${x}px, ${y}px)`;\n  return {\n    transform,\n    WebkitTransform: transform,\n  };\n}\n","import { useDragLayer } from \"react-dnd\"; \nimport Box from \"../Box/Box.jsx\";\nimport { getItemStyles, layerStyles } from \"./config.js\";\n\nconst CustomDragLayer = () => {\n  const { itemType, isDragging, initialOffset, currentOffset } = useDragLayer(\n    (monitor) => ({\n      item: monitor.getItem(),\n      itemType: monitor.getItemType(),\n      initialOffset: monitor.getInitialSourceClientOffset(),\n      currentOffset: monitor.getSourceClientOffset(),\n      isDragging: monitor.isDragging(),\n    })\n  );\n\n  const renderItem = (type) => {\n    return <Box type={type} />;\n  }\n\n  if (!isDragging) {\n    return null;\n  }\n  \n  return (\n    <div style={layerStyles}>\n      <div style={getItemStyles(initialOffset, currentOffset)}>\n        {renderItem(itemType)}\n      </div>\n    </div>\n  );\n};\n\nexport default CustomDragLayer;\n","import classNames from 'classnames';\n\nexport const classes = (...props) => classNames(props);","import { useCallback } from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport { ItemTypes } from \"../types/ItemTypes.js\";\nimport { snapToGrid } from \"../utils/snapToGrid.js\";\nimport styles from \"./Container.module.css\";\nimport { classes } from \"../../../../../utils/functions\";\nimport Box from \"../Box/Box.jsx\";\nimport { connect } from \"react-redux\";\nimport { updateItem } from \"redux/actions/Planner\";\n\nconst Container = ({ checked, planner, updateItem }) => {\n  const moveBox = useCallback(\n    (id, left, top) => {\n      updateItem({ id, left, top });\n    },\n    [updateItem]\n  );\n\n  const [, drop] = useDrop(\n    () => ({\n      accept: Object.values(ItemTypes),\n      drop(item, monitor) {\n        const delta = monitor.getDifferenceFromInitialOffset();\n        let left = Math.round(item.left + delta.x);\n        let top = Math.round(item.top + delta.y);\n        [left, top] = snapToGrid(left, top);\n        moveBox(item.id, left, top);\n        return undefined;\n      },\n    }),\n    [moveBox]\n  );\n\n  return (\n    <div\n      ref={drop}\n      className={classes(styles.container, checked && styles.grid)}\n    >\n      {Object.keys(planner).map((key) => (\n        <Box key={key} id={key} {...planner[key]} />\n      ))}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return state;\n};\n\nconst mapDispatchToProps = {\n  updateItem,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Container);\n","import { Space, Switch } from \"antd\";\nimport React from \"react\";\n\nconst CustomSwitch = ({ onChange }) => {\n  return (\n    <Space size={8}>\n      <span>Сетка</span>\n      <Switch defaultChecked onChange={onChange} />\n    </Space>\n  );\n};\n\nexport default CustomSwitch;\n","import React from \"react\";\nimport { Card } from \"antd\";\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { useState } from \"react\";\nimport CustomDragLayer from \"../CustomDragLayer/CustomDragLayer\";\nimport Container from \"../Container/Container\";\nimport CustomSwitch from \"../CustomSwitch/CustomSwitch\";\n\nconst MapCard = () => {\n  const [checked, setIsChecked] = useState(true);\n  const handleChange = (checked) => {\n    setIsChecked(checked);\n  };\n\n  return (\n    <Card\n      extra={<CustomSwitch onChange={handleChange} />}\n      title={\"Карта заведения\"}\n      headStyle={{ color: \"white\" }}\n      style={{ backgroundColor: \"#131313\", width: '690px', height: '500px' }}\n    >\n      <DndProvider backend={HTML5Backend}>\n        <Container checked={checked} />\n        <CustomDragLayer />\n      </DndProvider>\n    </Card>\n  );\n};\n\nexport default MapCard;\n","import React from \"react\";\nimport styles from \"./CustomFileInput.module.css\";\n\nconst CustomFileInput = ({ onChange }) => {\n  return (\n    <>\n      <input\n        type=\"file\"\n        id=\"file\"\n        multiple={false}\n        onChange={onChange}\n        className={styles.input__file}\n      />\n      <label htmlFor=\"file\" className={styles.button}>\n        Import\n      </label>\n    </>\n  );\n};\n\nexport default CustomFileInput;\n","import { List } from \"antd\";\nimport React from \"react\";\n\nexport const ImageList = ({ data, onClick }) => {\n  return (\n    <List\n      grid={{ gutter: 16, column: 4 }}\n      dataSource={data}\n      renderItem={(item) => (\n        <List.Item onClick={() => onClick(item)}>\n          <img\n            style={{ maxWidth: 70, borderRadius: \"1rem\" }}\n            src={item.src}\n            alt={item.alt}\n          />\n        </List.Item>\n      )}\n    />\n  );\n};\n","import { ImageList } from \"./ImageList/ImageList\";\nimport { ItemPics, ItemTypes } from \"./types/ItemTypes\";\n\nexport const tabList = [\n  {\n    key: \"tables\",\n    tab: \"Новые столы\",\n  },\n  {\n    key: \"plants\",\n    tab: \"Новые растения\",\n  },\n];\n\nexport const dataFurnitures = [\n  {\n    type: ItemTypes.TABLE_4_CHAIRS,\n    src: ItemPics[ItemTypes.TABLE_4_CHAIRS],\n  },\n  {\n    type: ItemTypes.TABLE_5_CHAIRS,\n    src: ItemPics[ItemTypes.TABLE_5_CHAIRS],\n  },\n  {\n    type: ItemTypes.MIDDLE_SOFA,\n    src: ItemPics[ItemTypes.MIDDLE_SOFA],\n  },\n  {\n    type: ItemTypes.LEFT_SOFA,\n    src: ItemPics[ItemTypes.LEFT_SOFA],\n  },\n];\n\nexport const dataPlants = [\n  {\n    type: ItemTypes.PLANT_1,\n    src: ItemPics[ItemTypes.PLANT_1],\n  },\n  {\n    type: ItemTypes.PLANT_2,\n    src: ItemPics[ItemTypes.PLANT_2],\n  },\n  {\n    type: ItemTypes.PLANT_3,\n    src: ItemPics[ItemTypes.PLANT_3],\n  },\n  {\n    type: ItemTypes.PLANT_4,\n    src: ItemPics[ItemTypes.PLANT_4],\n  },\n];\n\nexport const contentList = (handler) => ({\n  tables: <ImageList data={dataFurnitures} onClick={handler} />,\n  plants: <ImageList data={dataPlants} onClick={handler} />,\n});\n","import React, { useState } from \"react\";\r\nimport { Button, Card, Col, Row, Space } from \"antd\";\r\nimport MapCard from \"./MapCard/MapCard\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport { connect } from \"react-redux\";\r\nimport { addItem, importItems } from \"redux/actions/Planner\";\r\nimport CustomFileInput from \"./CustomFileInput/CustomFileInput\";\r\nimport { contentList, tabList } from \"./tableConfig\";\r\n\r\nconst Planner = ({ addItem, importItems, planner }) => {\r\n  const [activeTabKey, setActiveTabKey] = useState(\"tables\");\r\n\r\n  const handleImport = (event) => {\r\n    const reader = new FileReader();\r\n    reader.onload = function () {\r\n      const parsed = JSON.parse(reader.result);\r\n      importItems(parsed);\r\n    };\r\n    reader.onerror = function () {\r\n      console.log(\"Error\");\r\n    };\r\n    event.target.files[0] && reader.readAsText(event.target.files[0]);\r\n  };\r\n\r\n  const handleDownload = () => {\r\n    const content = JSON.stringify(planner);\r\n    const a = document.createElement(\"a\");\r\n    const file = new Blob([content], { type: \"application/json\" });\r\n    a.href = URL.createObjectURL(file);\r\n    a.download = \"planner.json\";\r\n    a.click();\r\n  };\r\n\r\n  const handleAddItem = ({ type, src }) => {\r\n    addItem({ [`${Date.now()}`]: { top: 0, left: 0, type, src } });\r\n  };\r\n\r\n  const onTab2Change = (key) => {\r\n    setActiveTabKey(key);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <DndProvider backend={HTML5Backend}>\r\n        <Row gutter={25}>\r\n          <Col lg={12}>\r\n            <Card\r\n              style={{ borderRadius: \"10px\" }}\r\n              tabList={tabList}\r\n              activeTabKey={activeTabKey}\r\n              onTabChange={(key) => onTab2Change(key)}\r\n            >\r\n              {contentList(handleAddItem)[activeTabKey]}\r\n            </Card>\r\n            <Card>\r\n              <Space lg={8}>\r\n                <CustomFileInput onChange={handleImport} />\r\n                <Button onClick={handleDownload}>Export</Button>\r\n              </Space>\r\n            </Card>\r\n          </Col>\r\n          <Col lg={12}>\r\n            <MapCard />\r\n          </Col>\r\n        </Row>\r\n      </DndProvider>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => state;\r\n\r\nconst mapDispatchToProps = { addItem, importItems };\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Planner);\r\n"],"sourceRoot":""}